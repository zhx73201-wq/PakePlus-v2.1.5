{"name":"bbbfedcbcaae","url":"index.html (等资源+2)","showName":"ZHX732","appid":"com.zhx732.app","icon":"","iconPath":"C:\\Users\\DELL\\AppData\\Roaming\\com.pakeplus.pacbao\\oevwleh9ur8.png","iconRound":true,"state":true,"single":true,"injectJq":true,"tauriApi":false,"devbug":false,"version":"0.0.1","preview":"desktop","platform":["1-1","1-2","2-1","2-2","3-1","3-2"],"width":800,"height":600,"desc":"","jsFile":[],"filterCss":"","customJs":"// 判断系统类型\r\n\r\n// function getSystemType() {\r\n//     const ua = navigator.userAgent;\r\n//     const platform = navigator.platform;\r\n//     // iOS（包含 iPhone / iPad / iPod）\r\n//     if (/iPhone|iPad|iPod/i.test(ua)) {\r\n//         return \"iOS\";\r\n//     }\r\n//     // Android\r\n//     if (/Android/i.test(ua)) {\r\n//         return \"Android\";\r\n//     }\r\n//     // Windows\r\n//     if (/Win/i.test(platform)) {\r\n//         return \"Windows\";\r\n//     }\r\n//     // macOS\r\n//     if (/Mac/i.test(platform)) {\r\n//         return \"macOS\";\r\n//     }\r\n//     // Linux（排除 Android）\r\n//     if (/Linux/i.test(platform)) {\r\n//         return \"Linux\";\r\n//     }\r\n//     return \"Unknown\";\r\n// }\r\n// console.log(getSystemType());\r\n\r\n// 拦截链接保证主页地址传输\r\nconst addMark = (url) => {\r\n    if (!url) return url\r\n    if (url.includes('?domin='+domin)) return url\r\n    if (url.includes('?')&&url.includes('=')){\r\n       return url + '&domin='+domin\r\n    }else{\r\n       return url + '?domin='+domin \r\n    }\r\n}\r\n\r\n// 拦截所有 a 标签点击\r\ndocument.addEventListener('click', (e) => {\r\n    const a = e.target.closest('a')\r\n    if (a && a.href) {\r\n        a.href = addMark(a.href)\r\n    }\r\n})\r\n\r\n// 拦截 window.open\r\nconst _open = window.open\r\nwindow.open = function(url, ...rest) {\r\n    return _open.call(window, addMark(url), ...rest)\r\n}\r\n\r\n// 拦截 location.assign\r\nconst _assign = window.location.assign\r\nwindow.location.assign = function(url) {\r\n    _assign.call(window.location, addMark(url))\r\n}\r\n\r\n// 拦截 location.replace\r\nconst _replace = window.location.replace\r\nwindow.location.replace = function(url) {\r\n    _replace.call(window.location, addMark(url))\r\n}\r\n\r\n// 基本逻辑\r\nfunction containsSubstring(mainStr, subStr, caseSensitive = true) {\r\n    if (!caseSensitive) {\r\n        mainStr = mainStr.toLowerCase();\r\n        subStr = subStr.toLowerCase();\r\n    }\r\n    return mainStr.indexOf(subStr) !== -1;\r\n}\r\nvar temp = new URLSearchParams(window.location.search).get('domin')\r\nif (temp==null){\r\n    var domin = window.location.href\r\n}else{\r\n    //var domin = getSystemType()\r\n    var domin = temp\r\n}\r\nconsole.log(window.location);\r\nconsole.log(domin);\r\n\r\n// 初始化跳转\r\nconst hookClick = (e) => {\r\n    const origin = e.target.closest('a')\r\n    const isBaseTargetBlank = document.querySelector(\r\n        'head base[target=\"_blank\"]'\r\n    )\r\n    console.log('origin', origin, isBaseTargetBlank)\r\n    if (\r\n        (origin && origin.href && origin.target === '_blank') ||\r\n        (origin && origin.href && isBaseTargetBlank)\r\n    ) {\r\n        e.preventDefault()\r\n        console.log('handle origin', origin)\r\n        location.href = origin.href+'?domin='+domin\r\n    } else {\r\n        console.log('not handle origin', origin)\r\n    }\r\n}\r\n\r\nwindow.open = function (url, target, features) {\r\n    console.log('open', url, target, features)\r\n    console.log('real')\r\n    location.href = url+'?domin='+domin\r\n  \r\n}\r\n\r\ndocument.addEventListener('click', hookClick, { capture: true })\r\n\r\n// 回到主页按钮\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n    const btn = document.createElement('div')\r\n    btn.style.position = 'fixed'\r\n    btn.style.bottom = '20px'\r\n    btn.style.right = '20px'\r\n    btn.style.width = '70px'\r\n    btn.style.height = '70px'\r\n    btn.style.backgroundColor = '#ff4757'\r\n    btn.style.color = '#fff'\r\n    btn.style.borderRadius = '50%'\r\n    btn.style.display = 'flex'\r\n    btn.style.justifyContent = 'center'\r\n    btn.style.alignItems = 'center'\r\n    btn.style.fontSize = '14px'\r\n    btn.style.fontWeight = 'bold'\r\n    btn.style.cursor = 'pointer'\r\n    btn.style.userSelect = 'none'\r\n    btn.style.boxShadow = '0 4px 12px rgba(0,0,0,0.25)'\r\n    btn.textContent = '主页'\r\n\r\n    document.body.appendChild(btn)\r\n\r\n    let isDragging = false\r\n    let offsetX = 0\r\n    let offsetY = 0\r\n\r\n    btn.addEventListener('mousedown', (e) => {\r\n        isDragging = false\r\n        offsetX = e.clientX - btn.offsetLeft\r\n        offsetY = e.clientY - btn.offsetTop\r\n\r\n        const moveHandler = (e) => {\r\n            isDragging = true\r\n            btn.style.left = (e.clientX - offsetX) + 'px'\r\n            btn.style.top = (e.clientY - offsetY) + 'px'\r\n            btn.style.right = 'auto'\r\n            btn.style.bottom = 'auto'\r\n        }\r\n\r\n        const upHandler = () => {\r\n            document.removeEventListener('mousemove', moveHandler)\r\n            document.removeEventListener('mouseup', upHandler)\r\n\r\n            if (isDragging) {\r\n                const screenWidth = window.innerWidth\r\n                const btnCenter = btn.offsetLeft + btn.offsetWidth / 2\r\n\r\n                if (btnCenter < screenWidth / 2) {\r\n                    btn.style.left = '10px'\r\n                } else {\r\n                    btn.style.left = (screenWidth - btn.offsetWidth - 10) + 'px'\r\n                }\r\n            }\r\n        }\r\n\r\n        document.addEventListener('mousemove', moveHandler)\r\n        document.addEventListener('mouseup', upHandler)\r\n    })\r\n\r\n    btn.addEventListener('click', () => {\r\n        if (!isDragging) {\r\n            window.location.href = domin\r\n        }\r\n    })\r\n})\r\n","isHtml":true,"htmlPath":"C:\\Users\\DELL\\Desktop\\zhx732","htmlFiles":[],"prefix":"","pcRepo":"PakePlus-v2.1.5","iosRepo":"PakePlus-iOS-v2.1.5","androidRepo":"PakePlus-Android-v2.1.5","more":{"windows":{"label":"","title":"ZHX732","url":"index.html (等资源+2)","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36","width":800,"height":600,"theme":null,"resizable":true,"fullscreen":false,"maximized":false,"minWidth":400,"minHeight":300,"maxWidth":1920,"maxHeight":1080,"decorations":true,"transparent":false,"titleBarStyle":"Visible","visible":true,"focus":true,"closable":true,"minimizable":true,"maximizable":true,"alwaysOnTop":false,"alwaysOnBottom":false,"center":false,"shadow":true,"skipTaskbar":false,"tabbingIdentifier":null,"parent":null,"dragDropEnabled":true,"browserExtensionsEnabled":false,"devtools":true,"contentProtected":false,"hiddenTitle":false,"incognito":false,"proxyUrl":null,"useHttpsScheme":false,"zoomHotkeysEnabled":false,"acceptFirstMouse":false,"create":false,"backgroundColor":null,"backgroundThrottling":null,"javascriptDisabled":false}},"phone":{"fullScreen":false,"safeArea":{"top":0,"bottom":0,"left":0,"right":0},"header":{"show":false,"title":"","backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","loading":false,"toolBar":false,"toolBarBackgroundColor":"","toolBarColor":"","toolBarFontSize":16,"toolBarFontWeight":"bold"},"siderMenu":{"show":false,"width":0,"backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","title":"","titleColor":"","titleFontSize":16,"titleFontWeight":"bold"},"tabBar":{"show":false,"backgroundColor":"","color":"","activeColor":"","fontSize":16,"fontWeight":"bold","tabBarItem":[]},"webview":{"userAgent":"","javaScriptEnabled":true,"domStorageEnabled":true,"allowFileAccess":true,"loadWithOverviewMode":true,"setSupportZoom":true,"clearCache":true}},"ios":{"name":"bbbfedcbcaae","showName":"ZHX732","version":"0.0.1","webUrl":"index.html (等资源+2)","id":"com.zhx732.app.ios","icon":"./app-icon.png","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":true,"debug":false,"safeArea":"all"},"android":{"name":"bbbfedcbcaae","showName":"ZHX732","version":"0.0.1","webUrl":"index.html (等资源+2)","id":"com.zhx732.app.android","icon":"./app-icon.png","input":"./app-icon.png","output":"./res","rounded":true,"copyTo":"./app/src/main/res","androidResDir":"./app/src/main/res","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":true,"debug":false,"safeArea":"all"},"desktop":{"name":"bbbfedcbcaae","showName":"ZHX732","version":"0.0.1","id":"com.zhx732.app.desktop","desc":"打包仅限个人使用，请勿传播或商业用途，否则后果自负","webUrl":"index.html (等资源+2)","iconPath":"../app-icon.png","inputPath":"../app-icon.png","tempPath":"./processed-image.png","icnsPath":"../src-tauri/icons/icon.icns","pubBody":"打包仅限个人使用，请勿传播或商业用途，否则后果自负","isHtml":true,"single":true,"state":true,"injectJq":false,"tauriApi":false,"buildMethod":"cloud","debug":false}}